<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <link rel="stylesheet" href="style.css" />

    <style>
      body {
        margin: 0;
        overflow: hidden;
      }

      .contenedor {
        position: absolute;
        bottom: 35px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        z-index: 9999;
        justify-content: center;
        width: 95%;
      }

      .botonEstado {
        padding: 6px 10px;
        font-size: 12px;
        border: none;
        border-radius: 6px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        cursor: pointer;
        flex: 1 1 auto;
        max-width: 100px;
        text-align: center;
      }

      .botonEstado:hover {
        background-color: rgba(255, 255, 255, 0.8);
        color: black;
      }
    </style>
  </head>

  <body>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const botonesEstado = document.querySelectorAll(".botonEstado");
        let estadoActual = 0;

        function cambiarVisibilidad() {
          const ids = [
            "Venus","BrazoDer","BrazoIzq","BrazoIzqApple","BrazoIzqArms","BrazosLira"
          ];
          const ids2 = ids.map(id => id + "2");

          // Ocultar todo
          [...ids, ...ids2].forEach(id => {
            const el = document.getElementById(id);
            if (el) el.setAttribute("visible", false);
          });

          // Mostrar según estado
          function mostrar(lista) {
            lista.forEach(id => {
              const el = document.getElementById(id);
              if (el) el.setAttribute("visible", true);
            });
          }

          switch (estadoActual) {
            case 0:
              mostrar(["Venus","Venus2"]);
              break;
            case 1:
              mostrar(["Venus","BrazoDer","BrazoIzq","Venus2","BrazoDer2","BrazoIzq2"]);
              break;
            case 2:
              mostrar(["Venus","BrazoDer","BrazoIzqApple","Venus2","BrazoDer2","BrazoIzqApple2"]);
              break;
            case 3:
              mostrar(["Venus","BrazoDer","BrazoIzqArms","Venus2","BrazoDer2","BrazoIzqArms2"]);
              break;
            case 4:
              mostrar(["Venus","BrazosLira","Venus2","BrazosLira2"]);
              break;
          }
        }

        botonesEstado.forEach((boton, indice) => {
          boton.addEventListener("click", function () {
            estadoActual = indice;
            cambiarVisibilidad();
          });
        });

        cambiarVisibilidad();
      });
    </script>

    <a-scene embedded arjs>

      <a-entity light="type: ambient; color: #ffffff; intensity: 2"></a-entity>

      <a-entity light="type: directional; color: #ffffff; intensity: 3"
            position="0 1 1"></a-entity>
     
      <!-- Marcador 1 -->
      <a-marker type="pattern" url="assets/pattern-VenusQr.patt">
        <a-entity position="0 0 0" rotation="-14.5 -82.9 89.27" scale="6 6 6">
          <a-entity id="Venus" visible="true" gltf-model="assets/Venus.glb"></a-entity>
          <a-entity id="BrazoDer" visible="false" gltf-model="assets/BrazoDerecho.glb"></a-entity>
          <a-entity id="BrazoIzq" visible="false" gltf-model="assets/BrazoIzq.glb"></a-entity>
          <a-entity id="BrazoIzqApple" visible="false" gltf-model="assets/BrazoIzq_Apple4.glb"></a-entity>
          <a-entity id="BrazoIzqArms" visible="false" gltf-model="assets/BrazoIzq_wArms.glb"></a-entity>
          <a-entity id="BrazosLira" visible="false" gltf-model="assets/Brazos_Lira.glb"></a-entity>
        </a-entity>
      </a-marker>

      <!-- Marcador 2 -->
      <a-marker type="pattern" url="assets/pattern-VenusFDA.patt">
        <a-entity position="0 0 0" rotation="-14.5 -82.9 89.27" scale="6 6 6">
          <a-entity id="Venus2" visible="true" gltf-model="assets/Venus.glb"></a-entity>
          <a-entity id="BrazoDer2" visible="false" gltf-model="assets/BrazoDerecho.glb"></a-entity>
          <a-entity id="BrazoIzq2" visible="false" gltf-model="assets/BrazoIzq.glb"></a-entity>
          <a-entity id="BrazoIzqApple2" visible="false" gltf-model="assets/BrazoIzq_Apple4.glb"></a-entity>
          <a-entity id="BrazoIzqArms2" visible="false" gltf-model="assets/BrazoIzq_wArms.glb"></a-entity>
          <a-entity id="BrazosLira2" visible="false" gltf-model="assets/Brazos_Lira.glb"></a-entity>
        </a-entity>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <div class="contenedor">
      <button class="botonEstado">Original</button>
      <button class="botonEstado">Reconstruida</button>
      <button class="botonEstado">Discordia</button>
      <button class="botonEstado">Amor y Guerra</button>
      <button class="botonEstado">Música</button>
    </div>
  </body>
</html>
