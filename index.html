<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <link rel="stylesheet" href="style.css" />
    <style>
      .contenedor {
        position: fixed;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        justify-content: center;
        width: 100%;
        z-index: 10;
      }
      .botonEstado {
        font-size: 12px;
        padding: 5px 10px;
        border-radius: 5px;
        border: none;
        background-color: #333;
        color: white;
        cursor: pointer;
      }
      .botonEstado:hover {
        background-color: #555;
      }
    </style>
  </head>
  <body style="margin: 0; overflow: hidden">
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const botonesEstado = document.querySelectorAll(".botonEstado");

        let estadoActual = 0;

        function cambiarVisibilidad() {
          const objeto1 = document.getElementById("Venus");
          const objeto2 = document.getElementById("BrazoDer");
          const objeto3 = document.getElementById("BrazoIzq");
          const objeto4 = document.getElementById("BrazoIzqApple");
          const objeto5 = document.getElementById("BrazoIzqArms");
          const objeto6 = document.getElementById("BrazosLira");

          switch (estadoActual) {
            case 0: // Solo Venus
              objeto1.setAttribute("visible", true);
              objeto2.setAttribute("visible", false);
              objeto3.setAttribute("visible", false);
              objeto4.setAttribute("visible", false);
              objeto5.setAttribute("visible", false);
              objeto6.setAttribute("visible", false);
              break;

            case 1: // Reconstruida
              objeto1.setAttribute("visible", true);
              objeto2.setAttribute("visible", true);
              objeto3.setAttribute("visible", true);
              objeto4.setAttribute("visible", false);
              objeto5.setAttribute("visible", false);
              objeto6.setAttribute("visible", false);
              break;

            case 2: // Discordia
              objeto1.setAttribute("visible", true);
              objeto2.setAttribute("visible", true);
              objeto3.setAttribute("visible", false);
              objeto4.setAttribute("visible", true);
              objeto5.setAttribute("visible", false);
              objeto6.setAttribute("visible", false);
              break;

            case 3: // Amor y Guerra
              objeto1.setAttribute("visible", true);
              objeto2.setAttribute("visible", true);
              objeto3.setAttribute("visible", false);
              objeto4.setAttribute("visible", false);
              objeto5.setAttribute("visible", true);
              objeto6.setAttribute("visible", false);
              break;

            case 4: // Música
              objeto1.setAttribute("visible", true);
              objeto2.setAttribute("visible", false);
              objeto3.setAttribute("visible", false);
              objeto4.setAttribute("visible", false);
              objeto5.setAttribute("visible", false);
              objeto6.setAttribute("visible", true);
              break;
          }
        }

        function cambiarEstado(nuevoEstado) {
          estadoActual = nuevoEstado;
          cambiarVisibilidad();
        }

        botonesEstado.forEach((boton, indice) => {
          boton.addEventListener("click", function () {
            cambiarEstado(indice);
          });
        });

        cambiarVisibilidad();
      });
    </script>

    <a-scene embedded arjs>
      <!-- Luces -->
      <a-entity light="color: #fff; type: ambient; intensity: 1"></a-entity>
      <a-entity light="type: directional; intensity: 1" position="1 1 0"></a-entity>

      <!-- Contenedor de modelos -->
      <a-entity id="venus-container" position="0 0 0" rotation="-14.5 -82.9 89.27" scale="6 6 6">
        <a-entity id="Venus" visible="true" gltf-model="assets/Venus.glb"></a-entity>
        <a-entity id="BrazoDer" visible="false" gltf-model="assets/BrazoDerecho.glb"></a-entity>
        <a-entity id="BrazoIzq" visible="false" gltf-model="assets/BrazoIzq.glb"></a-entity>
        <a-entity id="BrazoIzqApple" visible="false" gltf-model="assets/BrazoIzq_Apple4.glb"></a-entity>
        <a-entity id="BrazoIzqArms" visible="false" gltf-model="assets/BrazoIzq_Arms.glb"></a-entity>
        <a-entity id="BrazosLira" visible="false" gltf-model="assets/Brazos_Lira.glb"></a-entity>
      </a-entity>

      <!-- Marcador 1 -->
      <a-marker type="pattern" url="assets/pattern-VenusQr.patt">
        <a-entity position="0 0 0" rotation="0 0 0" scale="1 1 1" gltf-model="#venus-container"></a-entity>
      </a-marker>

      <!-- Marcador 2 (backup) -->
      <a-marker type="pattern" url="assets/pattern-BackupQr.patt">
        <a-entity position="0 0 0" rotation="0 0 0" scale="1 1 1" gltf-model="#venus-container"></a-entity>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <!-- Botones -->
    <div class="contenedor">
      <button class="botonEstado">Original</button>
      <button class="botonEstado">Reconstruida</button>
      <button class="botonEstado">Discordia</button>
      <button class="botonEstado">Amor y Guerra</button>
      <button class="botonEstado">Música</button>
    </div>
  </body>
</html>
